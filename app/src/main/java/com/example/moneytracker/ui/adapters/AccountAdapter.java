package com.example.moneytracker.ui.adapters;import android.content.Context;import android.view.LayoutInflater;import android.view.View;import android.view.ViewGroup;import android.widget.ImageView;import android.widget.TextView;import androidx.annotation.NonNull;import androidx.recyclerview.widget.DiffUtil;import androidx.recyclerview.widget.ListAdapter;import androidx.recyclerview.widget.RecyclerView;import com.example.moneytracker.R;import com.example.moneytracker.data.db.Account;import com.example.moneytracker.data.model.AccountWithBalance;import java.text.NumberFormat;import java.util.Locale;public class AccountAdapter extends ListAdapter<AccountWithBalance, AccountAdapter.AccountViewHolder> {    public AccountAdapter() {        super(DIFF_CALLBACK);    }    @NonNull    @Override    public AccountViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {        View itemView = LayoutInflater.from(parent.getContext())                .inflate(R.layout.item_account, parent, false);        return new AccountViewHolder(itemView);    }    @Override    public void onBindViewHolder(@NonNull AccountViewHolder holder, int position) {        AccountWithBalance currentAccount = getItem(position);        holder.bind(currentAccount);    }    static class AccountViewHolder extends RecyclerView.ViewHolder {        private final ImageView ivAccountIcon;        private final TextView tvAccountName;        private final TextView tvAccountBalance;        public AccountViewHolder(@NonNull View itemView) {            super(itemView);            ivAccountIcon = itemView.findViewById(R.id.image_view_account_icon);            tvAccountName = itemView.findViewById(R.id.text_view_account_name);            tvAccountBalance = itemView.findViewById(R.id.text_view_account_balance);        }        public void bind(AccountWithBalance accountWithBalance) {            Account account = accountWithBalance.account;            double balance = accountWithBalance.balance;            tvAccountName.setText(account.name);            NumberFormat currencyFormat = NumberFormat.getCurrencyInstance(new Locale("kz", "KZ"));            tvAccountBalance.setText(currencyFormat.format(balance));            Context context = itemView.getContext();            int iconResId = context.getResources().getIdentifier(                    account.iconName, "drawable", context.getPackageName()            );            if (iconResId != 0) {                ivAccountIcon.setImageResource(iconResId);            } else {                ivAccountIcon.setImageResource(R.drawable.ic_cat_transport);            }        }    }    private static final DiffUtil.ItemCallback<AccountWithBalance> DIFF_CALLBACK =            new DiffUtil.ItemCallback<AccountWithBalance>() {                @Override                public boolean areItemsTheSame(@NonNull AccountWithBalance oldItem, @NonNull AccountWithBalance newItem) {                    return oldItem.account.id == newItem.account.id;                }                @Override                public boolean areContentsTheSame(@NonNull AccountWithBalance oldItem, @NonNull AccountWithBalance newItem) {                    return oldItem.account.name.equals(newItem.account.name) &&                            oldItem.balance == newItem.balance &&                            oldItem.account.iconName.equals(newItem.account.iconName);                }            };}